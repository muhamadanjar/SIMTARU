// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.12/esri/copyright.txt for details.
//>>built
require({cache:{"url:esri/dijit/HeatmapSlider/templates/HeatmapSlider.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n  \x3cdiv data-dojo-attach-point\x3d"_containerNode"\x3e\n  \x3cdiv data-dojo-attach-point\x3d"_titleNode"\x3e\x3c/div\x3e\n  \x3cdiv data-dojo-attach-point\x3d"_sliderNode"\x3e\x3c/div\x3e\n  \x3cdiv data-dojo-attach-point\x3d"_scaleNode"\x3e\x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e'}});
define("esri/dijit/HeatmapSlider","../kernel dijit/_OnDijitClickMixin dijit/_TemplatedMixin dijit/_WidgetBase ../dijit/RendererSlider ../Color dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/Evented dojo/has dojo/on dojox/gfx dojo/text!./HeatmapSlider/templates/HeatmapSlider.html".split(" "),function(g,b,h,k,l,s,e,f,c,m,n,p,t,q,r){b=f("esri.dijit.HeatmapSlider",[k,b,h,n],{baseClass:"esriHeatmapSlider",templateString:r,domNode:null,containerNode:null,handles:null,_rampWidthDefault:25,
showLabels:null,hideLabels:null,_showLabelsDefault:!0,_showTicksDefault:!0,_fieldLabel:null,_rampNode:null,_sliderHeight:null,_colorRampSurface:null,_rect:null,_updateTimer:null,constructor:function(a,d){f.safeMixin(this,a);this.inherited(arguments);d&&(this.domNode=d,this.containerNode=this._containerNode,this.histogramWidth=a.histogramWidth||this._histogramWidthDefault,this.rampWidth=a.rampWidth||this._rampWidthDefault,this.handles=a.handles||[3,15],this.showLabels=a.showLabels||this._showLabelsDefault,
this.showTicks=a.showTicks||this._showTicksDefault,this.colorStops=a.colorStops,this.minSliderValue=this.colorStops[3].ratio||0.1,this.maxSliderValue=this.colorStops[15].ratio||1)},postCreate:function(){this.inherited(arguments);this._slider=new l({type:"heatmapSlider",values:[this.minSliderValue,this.maxSliderValue],minimum:this.minSliderValue,maximum:this.maxSliderValue,precision:2,showLabels:this.showLabels,showTicks:this.showTicks},this._sliderNode);this._slider.startup()},startup:function(){this.inherited(arguments);
this._rampNode=this._slider._sliderAreaRight;this._sliderHeight=m.get(this._rampNode,"height")||155;this._colorRampSurface=q.createSurface(this._rampNode,this.rampWidth,this._sliderHeight);this._rect=this._colorRampSurface.createRect(this._colorRampSurface.getDimensions()).setStroke("#888");this._draw();this._slider.on("slide",c.hitch(this,function(a){this._updateColorStops(a.values[0],a.values[1]);this._draw()}));this._slider.on("change",c.hitch(this,function(a){this.emit("change",this.colorStops)}))},
_updateColorStops:function(a,d){e.forEach(this.colorStops,function(b,c){2<c&&(b.ratio=a+(d-a)*((c-3)/12))})},_draw:function(){var a=this.colorStops.slice(0);e.forEach(a,function(a){a.offset=1-a.ratio});a.reverse();this._rect.setFill({type:"linear",x1:0,y1:0,x2:0,y2:200/0.99,colors:a})}});p("extend-esri")&&c.setObject("dijit.HeatmapSlider",b,g);return b});