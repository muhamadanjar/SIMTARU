// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.12/esri/copyright.txt for details.
//>>built
require({cache:{"url:esri/dijit/RendererSlider/templates/RendererSlider.html":'\x3cdiv class\x3d"${_css.container}" data-dojo-attach-point\x3d"_containerNode"\x3e\n  \x3cdiv class\x3d"${_css.topLabelNode}" data-dojo-attach-point\x3d"_topNode"\x3e\x3c/div\x3e\n  \x3cdiv class\x3d"${_css.slidernode}" data-dojo-attach-point\x3d"_sliderNode"\x3e\n    \x3cdiv class\x3d"${_css.sliderarea}" data-dojo-attach-point\x3d"_sliderArea"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"${_css.sliderarearight}" data-dojo-attach-point\x3d"_sliderAreaRight"\x3e\x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"${_css.bottomLabelNode}" data-dojo-attach-point\x3d"_botNode"\x3e\x3c/div\x3e\n\x3c/div\x3e'}});
define("esri/dijit/RendererSlider","../kernel dijit/_OnDijitClickMixin dijit/_TemplatedMixin dijit/_WidgetBase dijit/Tooltip dijit/form/NumberTextBox dojo/i18n!../nls/jsapi dojo/on dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dnd/move dojo/dom-construct dojo/dom-style dojo/Evented dojo/number dojo/has dojo/text!./RendererSlider/templates/RendererSlider.html".split(" "),function(v,b,w,B,L,C,D,t,x,E,c,F,u,z,G,g,H,I){b=E("esri.dijit.RendererSlider",[B,b,w,G],{templateString:I,minimum:0,maximum:100,
values:[50],precision:0,theme:"Slider",intermediateChanges:!1,minLabel:null,maxLabel:null,_visibleLabels:["data","handle"],jsapiBundle:D.widgets.rendererSlider,type:null,handles:[],primaryHandle:null,_valueDifferenceByIndex:[],_primaryHandleIdx:null,_currentTopValue:[],constructor:function(c,q){this.inherited(arguments);this.domNode=q;this._css={container:"esriRendererSlider",slidernode:"sliderNode",sliderarea:"sliderArea",sliderarearight:"sliderAreaRight",topLabelNode:"topLabelNode",bottomLabelNode:"bottomLabelNode"};
this.showLabels=c.showLabels||this.showLabels},startup:function(){this.inherited(arguments);this._generateMoveables();this.watch("values",this._valuesChange)},_generateMoveables:function(){var J=this._sliderNode,q=z.get(this._sliderArea,"height"),f=this.get("minimum"),l=this.get("maximum"),K=this.get("minLabel"),b=this.get("maxLabel"),h=this.get("precision"),s=this.get("step")||Math.pow(10,-h),r=this.get("showLabels"),v=this.get("showTicks"),y=c.hitch(this,this.setValue),w=this.get("values"),A;!1!==
r&&"heatmapSlider"===this.type?(this._topNode.innerHTML="High",this._botNode.innerHTML="Low"):!0===r||"object"===typeof r&&-1!==r.indexOf("data")?(this._topNode.innerHTML=g.format(b||l,{places:h}),this._botNode.innerHTML=g.format(K||f,{places:h})):(this._topNode.innerHTML="\x26nbsp;",this._botNode.innerHTML="\x26nbsp;");this._primaryHandleIdx=null;this.moveables=A=x.map(w,c.hitch(this,function(m,d){m.primaryHandle&&(this._primaryHandleIdx=d);if("object"===typeof m&&m.hidden)return null;"object"===
typeof m&&(m=m.value);var n,e,k,b;n=Math.round((1-(m-f)/(l-f))*q);e=u.create("div",{style:"top: "+n+"px",className:"moveable"},J);n=u.create("div",{className:"handler"},e);e._handler=n;if("heatmapSlider"!==this.type&&(!0===r||"object"===typeof r&&-1!==r.indexOf("handles")))k=u.create("div",{className:"handlerLabel",innerHTML:g.format(m,{places:h})},e),e._label=k,t(k,"click",c.hitch(this,function(a){if(!e._numberEditor){var b=k.innerHTML;k.innerHTML="";a=u.create("input",{type:"text",id:"NumberTextBox"+
d},k);var p=new C({value:g.format(m,{places:h}),constraints:{min:f,max:l}},a);e._numberEditor=p;t(p,"focus",function(a){p.set("value",b)});t(p,"keydown",c.hitch(this,function(a){13===a.keyCode&&p.focusNode.blur()}));t(p,"blur",function(a){k.innerHTML=g.format(this.value,{places:h});this.destroy();e._numberEditor=null});t(p,"change",c.hitch(this,function(a){"sizeInfoSlider"===this.type||"classedColorSlider"===this.type?this.values[d]=a:this.values[d].value=b=a;this._reset();this._generateMoveables();
this.emit("handle-value-change",{values:this.values})}));p.focus()}}));v&&(b=0===d?"handlerTick handlerTickBottom":"handlerTick handlerTickTop","heatmapSlider"===this.type&&(b+=" heatmapTick"),u.create("div",{className:b},e));n=new F.constrainedMoveable(e,{handle:n,within:!0,constraints:function(){return{t:0,l:0,w:0,h:q}}});n.onMoveStart=c.hitch(this,function(a){this._currentTopValue[d]=a.node.style.top;e._numberEditor&&(e._numberEditor.destroy(),e._numberEditor=null)});n.onMoved=c.hitch(this,function(a){if(d===
this._primaryHandleIdx){var b=Number(this._currentTopValue[d].replace("px",""))-Number(a.node.style.top.replace("px",""));this._currentTopValue[d]=a.node.style.top;x.forEach(A,c.hitch(this,function(a,e){if(a){var c=Number(a.style.top.replace("px",""))-b,d=parseFloat((Math.round(((1-Number(c/q))*(l-f)+f)/s)*s).toFixed(h));d<f||d>l||(z.set(a,"top",c+"px"),y(e,d,!1),a._label&&(a._label.innerHTML=g.format(d,{places:h})))}}))}a=1-Number(a.node.style.top.replace("px",""))/q;a=parseFloat((Math.round((a*
(l-f)+f)/s)*s).toFixed(h));this._valueDifferenceByIndex[d]=this.values[d].value-a;k&&(k.innerHTML=g.format(a,{places:h}));y(d,a,!1)});n.onMoveStop=c.hitch(this,function(a){a=1-Number(a.node.style.top.replace("px",""))/q;a=parseFloat((Math.round((a*(l-f)+f)/s)*s).toFixed(h));k&&(k.innerHTML=g.format(a,{places:h}));y(d,a,!0)});return e}))},_reset:function(){x.forEach(this.moveables,c.hitch(this,function(b){b&&b.remove()}));this.moveables=[]},setValue:function(b,c,f){var l=this.get("values"),g=l.slice(0);
"object"===typeof l[0]?g[b].value=c:g[b]=c;(this.intermediateChanges||f)&&this.set("values",g);f?this.emit("stop",{values:this.get("values")}):this.emit("slide",{values:g})},_valuesChange:function(){this.emit("change",{values:this.get("values")})}});H("extend-esri")&&c.setObject("dijit.RendererSlider",b,v);return b});